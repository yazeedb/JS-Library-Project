<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Library</title>

    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
        background-color: #282c35;
        color: white;
        padding: 10px 20px;
      }

      button {
        border: none;
        background-color: #08746c;
        color: white;
        font-size: 24px;
        padding: 16px;
        border-radius: 6px;
        cursor: pointer;
      }

      .empty-heading {
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Welcome to your Library</h1>
    </header>

    <main>
      <section>
        <h2 class="empty-heading">Your library is empty</h2>
      </section>

      <button>Add book</button>
    </main>

    <script>
      // DOM elements
      const addBookButton = document.querySelector("button");
      const librarySection = document.querySelector("section");

      // model
      const model = {
        books: [],
        addBook: () => {
          const title = prompt("What is the title?");
          const author = prompt(`Who authored ${title}?`);

          model.books.push({ title, author });
        },
      };

      // View
      const renderBook = (book) => {
        const titleElement = document.createElement("h2");
        titleElement.innerHTML = book.title;

        const authorElement = document.createElement("h4");
        authorElement.innerHTML = book.author;

        const li = document.createElement("li");

        li.appendChild(titleElement);
        li.appendChild(authorElement);

        return li;
      };

      const renderLibrary = () => {
        librarySection.innerHTML = "";

        const ul = document.createElement("ul");

        const bookElements = model.books
          .map(renderBook)
          .forEach((li) => ul.appendChild(li));

        librarySection.appendChild(ul);
      };

      // Controller
      addBookButton.addEventListener("click", () => {
        model.addBook();
        renderLibrary();
      });
    </script>
  </body>
</html>
